# Общее описание

Правильный ответ сервера имеет статус **200** и всегда содержит объект с полями **result**, который содержит в себе полезный ответ от сервера, и **description**, может содержать отладочную информацию. 

В остальных случаях ответ не гарантирует содержание json

# Работа с профилями

Предусмотрено 3 вида профиля:

1. Студент
2. Преподаватель
3. Бизнес

## Получение информации о пользователе

Метод не требует авторизации пользователя. 

### URL

```
GET /api/profiles/item
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **user_id** | нет | **integer** | Если параметр не передан, то возвращается информация по текущему пользователю |
| **full_info** | нет | **string** | Если передать с помощью этого параметра значение **yes**, то в ответ будет добавлено поле **extra_data** 

### Описание ответа

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id**    | **integer**     | |
|**type** | **integer** | Может иметь одно из 3 значений:<br>0 - Студент,<br>1 - Преподаватель,<br>2 - Бизнес |
| **firstname** | **string** | |
| **secondname** | **string** | |
| **therename** | **string** | |
| **avatar** | **string** or **null** | null - когда отсутсвует аватар |
| **extra_data** | **object** | Дополнительная информация о профиле, зависит от значения поля **type**. Может содержать ифнормацию относительно типа профиля: _университет, специальность, публикации, участие в проектах и мероприятиях и т.д._<br>Наличие поля зависит от переданного параметра **full_info** |

### Пример ответа

```json
{
    "result": {
        "id": 1,
        "type": 0,
        "firstname": "Мочалин",
        "secondname": "Сергей",
        "therename": "Дмитриевич",
        "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png",
        "extra_data": {
            "university": {
                "id": 1,
                "name": "ИВГПУ"
            },
            "speciality": {
                "id": 1,
                "name": "ИТИС"
            },
            "publications": [],
            "events": [
                {
                    "id": 1,
                    "title": "New"
                }
            ],
            "projects": [
                {
                    "id": 1,
                    "title": "New York"
                }
            ]
        }
    },
    "description": "ok"
}
```

## Получение списка пользователей

Метод не требует авторизации. 

### URL

```
GET /api/profiles/list
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **profile_type** | нет | **integer** | Позволяет получить список определенного типа профиля (0,1,3) |

### Описание ответа

Возвращает список профилей пользователей (см инфо пользователя) без поля **extra_data**.

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "type": 0,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": null,
        },
        {
            "id": 2,
            "type": 1,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": null,
        }
    ],
    "description": "ok"
}
```

## Авторизация пользователя

Метод используется для авторизации.

### URL

```
POST /api/profiles/item
```

### Параметры JSON

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **user_login** | да | string | |
| **user_password** | да | string | |

### Описание ответа

При успешной авторизации возвращает сокращенную информацию о профиле (см инфо пользователя).

# Работа с проектами

Проекты могут быть различных типов. Список динамический и хранится в отдельной таблице.

## Список проектов

Метод не требует авторизации

### URL

```
GET /api/projects/list
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **type_project** | да | integer | Позволяет получить проекты определенного типа | 

### Описание ответа

Метод возвращает список проектов с краткой информацией о них.

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id** | integer | |,
| **name** | string | |, 
| **description** | string | | 
| **project_type** | object | |
| **avatar_project** | **string** or **null** | null - когда отсутсвует аватар |

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "name": "New York",
            "description": "Создание приложения",
            "project_type": {
                "id": 1,
                "title": "Коммерческие"
            },
            "avatar_project": null
        },
        {
            "id": 2,
            "name": "Piterburg",
            "description": "Создание приложения",
            "project_type": {
                "id": 1,
                "title": "Коммерческие"
            },
            "avatar_project": null
        }
    ],
    "description": "ok"
}
```

## Информация о проекте

Метод не требует авторизации. Возвращает полную информацию о проекте

### URL

```
GET /api/projects/item
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **id_project** | да | integer | |

### Описание ответа

Метод возвращает полное описание проекта

Дополнительые поля:

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **author** | object | Краткая информация о профиле автора проекта |
| **extra_data** | string (json) |  |
| **isowner** | bool | "Флаг" - является ли текущий пользователь автором проекта |
| **project_comments** | list[object] | Комментарии к проекту | 
| **project_subscribers** | list[object] | Участники проекта |

### Пример ответа

```json
{
    "result": {
        "id": 1,
        "name": "New York",
        "description": "Создание приложения",
        "avatar_project": null,
        "author": {
            "id": 1,
            "type": 0,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png"
        },
        "extra_data": "{}",
        "isowner": true,
        "project_type": {
            "id": 1,
            "title": "Коммерческие"
        },
        "project_comments": [
            {
                "id": 1,
                "user": {
                    "id": 1,
                    "type": 0,
                    "firstname": "Мочалин",
                    "secondname": "Сергей",
                    "therename": "Дмитриевич",
                    "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png"
                },
                "comment": "Клевый",
                "datetime": "2024-05-07T22:21:14.734503+03:00"
            }
        ],
        "project_subscribers": null
    },
    "description": "ok"
}
```

_______________________


API Project

GET api/project/typelist - получение списка типов проектов

0:Коммерческий

1:Некоммерческий

2:StartApp

    Фильтр по типу проектов

POST api/projects/item - Добавление нового проекта

project_name - название проекта

project_description - описание проекта

project_author - автор проекта

project_type - Тип проекта

0:Коммерческий

1:Некоммерческий

2:StartApp

POST item/sub_create

project_id

user_id

POST item/comment_create

project_id

comment

API Event
GET


POST

