# Общее описание

Правильный ответ сервера имеет статус **200** и всегда содержит объект с полями **result**, который содержит в себе полезный ответ от сервера, и **description**, может содержать отладочную информацию. 

В остальных случаях ответ не гарантирует содержание json

# Работа с профилями

Предусмотрено 3 вида профиля:

1. Студент
2. Преподаватель
3. Бизнес

## Получение информации о пользователе

Метод не требует авторизации пользователя. 

### URL

```
GET /api/profiles/item
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **user_id** | нет | **integer** | Если параметр не передан, то возвращается информация по текущему пользователю |
| **full_info** | нет | **string** | Если передать с помощью этого параметра значение **yes**, то в ответ будет добавлено поле **extra_data** 

### Описание ответа

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id**    | **integer**     | |
|**type** | **integer** | Может иметь одно из 3 значений:<br>0 - Студент,<br>1 - Преподаватель,<br>2 - Бизнес |
| **firstname** | **string** | |
| **secondname** | **string** | |
| **therename** | **string** | |
| **avatar** | **string** or **null** | null - когда отсутсвует аватар |
| **extra_data** | **object** | Дополнительная информация о профиле, зависит от значения поля **type**. Может содержать ифнормацию относительно типа профиля: _университет, специальность, публикации, участие в проектах и мероприятиях и т.д._<br>Наличие поля зависит от переданного параметра **full_info** |

### Пример ответа

```json
{
    "result": {
        "id": 1,
        "type": 0,
        "firstname": "Мочалин",
        "secondname": "Сергей",
        "therename": "Дмитриевич",
        "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png",
        "extra_data": {
            "university": {
                "id": 1,
                "name": "ИВГПУ"
            },
            "speciality": {
                "id": 1,
                "name": "ИТИС"
            },
            "publications": [],
            "events": [
                {
                    "id": 1,
                    "title": "New"
                }
            ],
            "projects": [
                {
                    "id": 1,
                    "title": "New York"
                }
            ]
        }
    },
    "description": "ok"
}
```

## Получение списка пользователей

Метод не требует авторизации. 

### URL

```
GET /api/profiles/list
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **profile_type** | нет | **integer** | Позволяет получить список определенного типа профиля (0,1,3) |

### Описание ответа

Возвращает список профилей пользователей (см инфо пользователя) без поля **extra_data**.

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "type": 0,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": null,
        },
        {
            "id": 2,
            "type": 1,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": null,
        }
    ],
    "description": "ok"
}
```

## Авторизация пользователя

Метод используется для авторизации.

### URL

```
POST /api/profiles/item
```

### Параметры JSON

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **user_login** | да | string | |
| **user_password** | да | string | |

### Описание ответа

При успешной авторизации возвращает сокращенную информацию о профиле (см инфо пользователя).

# Работа с проектами

Проекты могут быть различных типов. Список динамический и хранится в отдельной таблице.

## Список проектов

Метод не требует авторизации

### URL

```
GET /api/projects/list
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **type_project** | да | integer | Позволяет получить проекты определенного типа | 


### Описание ответа

Метод возвращает список проектов с краткой информацией о них.

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id** | integer | |,
| **name** | string | |, 
| **description** | string | | 
| **project_type** | object | |
| **avatar_project** | **string** or **null** | null - когда отсутсвует аватар |

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "name": "New York",
            "description": "Создание приложения",
            "project_type": {
                "id": 1,
                "title": "Коммерческие"
            },
            "avatar_project": null
        },
        {
            "id": 2,
            "name": "Piterburg",
            "description": "Создание приложения",
            "project_type": {
                "id": 1,
                "title": "Коммерческие"
            },
            "avatar_project": null
        }
    ],
    "description": "ok"
}
```

## Информация о проекте

Метод не требует авторизации. Возвращает полную информацию о проекте

### URL

```
GET /api/projects/item
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **id_project** | да | integer | |

### Описание ответа

Метод возвращает полное описание проекта

Дополнительые поля:

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **author** | object | Краткая информация о профиле автора проекта |
| **extra_data** | string (json) |  |
| **isowner** | bool | "Флаг" - является ли текущий пользователь автором проекта |
| **project_comments** | list[object] | Комментарии к проекту | 
| **project_subscribers** | list[object] | Участники проекта |

### Пример ответа

```json
{
    "result": {
        "id": 1,
        "name": "New York",
        "description": "Создание приложения",
        "avatar_project": null,
        "author": {
            "id": 1,
            "type": 0,
            "firstname": "Мочалин",
            "secondname": "Сергей",
            "therename": "Дмитриевич",
            "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png"
        },
        "extra_data": "{}",
        "isowner": true,
        "project_type": {
            "id": 1,
            "title": "Коммерческие"
        },
        "project_comments": [
            {
                "id": 1,
                "user": {
                    "id": 1,
                    "type": 0,
                    "firstname": "Мочалин",
                    "secondname": "Сергей",
                    "therename": "Дмитриевич",
                    "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png"
                },
                "comment": "Клевый",
                "datetime": "2024-05-07T22:21:14.734503+03:00"
            }
        ],
        "project_subscribers": null
    },
    "description": "ok"
}
```

## Информация о типах проектов

Метод не требует авторизации. Возвращает список типов проектов.

### URL

```
GET api/project/typelist 
``` 

### Описание ответа

Метод возвращает типы проектов

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "title": "Коммерческие"
        },
        {
            "id": 2,
            "title": "Некоммерческие"
        }
    ],
    "description": "ok"
}
```

## Добавление нового проекта

Метод требует авторизации. Добавляет новый проект в список проектов.

### URL

```
POST api/projects/item - Добавление нового проекта
```

### Параметры JSON

| Имя аргумента | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **project_name** | да | string | Название проекта |
| **project_description** | да | string | Описание проекта |
| **project_author** | нет | integer | Подставляется автоматически берется состояние текущего пользователя |
| **project_type** | да | integer | Смотреть /api/projects/typelist |


## Добавление участника к проекту

Метод требует авторизации. Автор добавляет новых участников проекта

```
POST /api/projects/item/sub_create
```

### Параметры JSON

| Имя аргумента | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **project_id** | да | integer | |
| **user_id** | да | integer | |

## Добавление комментария к проекту

Метод требует авторизации. Пользователь добавляет комментарий к проекту

```
POST /api/projects/item/comment_create
```

### Аргументы

| Имя аргумента | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **project_id** | да | integer | |
| **comment** | да | string | |
_________
# Работа с мероприятием

## Получение информации о списке мероприятий

Метод не требует авторизации пользователя. 

### URL

```
GET /api/events/list
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
|**type_event**| нет | **integer** |  1 - Хакатон, 2 - Конференции |

### Описание ответа

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id**    | **integer**     | |
|**name** | **integer** |  |
| **short_description** | **string** | |
| **start_event** | **string** | Дата начала мероприятия |
| **avatar** | **string** or **null** | null - когда отсутсвует аватар |
| **issub** | **bool** | Если пользователь авторизован и является участником мероприятия |

### Пример ответа

```json
{
    "result": [
        {
            "id": 1,
            "name": "New",
            "short_description": "Jbhdjihdiqd",
            "start_event": "2024-05-08T23:52:02+03:00",
            "avatar": null,
            "issub": true
        }
    ],
    "description": "ok"
}
```

## Получение информации о мероприятии

Метод не требует авторизации пользователя. 

### URL

```
GET /api/events/item
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **event_id** | да | integer |  |
________

### Описание ответа

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id**    | **integer**     | |
|**name** | **integer** |  |
| **type** | **string** | |
| **short_description** | **string** |  |
| **description** | **string** | |
| **start_event** | **string** |  |
| **end_event** | **string** |  |
| **avatar** | **srting** or **null** | null - когда отсутсвует аватар |
| **place_event** | **string** |  |
| **user** | **string** | |
| **isowner** | **bool** |  |
| **extra_data** | **string** |  |
| **issub** | **bool** |  |
| **event_subscribers** | **string** |  |

### Пример ответа

```json
{
    "result": {
        "id": 1,
        "name": "New",
        "type": 0,
        "short_description": "Jbhdjihdiqd",
        "description": "1sdfasfas",
        "start_event": "2024-05-08T23:52:02+03:00",
        "end_event": "2024-05-08T23:52:03+03:00",
        "avatar": null,
        "place_event": 1,
        "user": 1,
        "isowner": true,
        "extra_data": "{}",
        "issub": true,
        "event_subscribers": [
            {
                "id": 1,
                "user": {
                    "id": 1,
                    "type": 0,
                    "firstname": "Мочалин",
                    "secondname": "Сергей",
                    "therename": "Дмитриевич",
                    "avatar": "/media/avatars/Monosnap_5dec5dfa-868e-4cf5-94d8-76c1b7f988a1.webp_6PQ6YKr.png",
                    "extra_data": {
                        "university": {
                            "id": 1,
                            "name": "ИВГПУ"
                        },
                        "speciality": {
                            "id": 1,
                            "name": "ИТИС"
                        },
                        "publications": [],
                        "events": [
                            {
                                "id": 1,
                                "title": "New"
                            }
                        ],
                        "projects": [
                            {
                                "id": 1,
                                "title": "New York"
                            }
                        ]
                    }
                },
                "status": 1
            },
            {
                "id": 2,
                "user": {
                    "id": 2,
                    "type": 1,
                    "firstname": "Мочалин",
                    "secondname": "Сергей",
                    "therename": "Дмитриевич",
                    "avatar": null,
                    "extra_data": {
                        "university": 1,
                        "department": 1,
                        "position": 3,
                        "publications": [],
                        "events": [
                            {
                                "id": 1,
                                "title": "New"
                            }
                        ],
                        "projects": []
                    }
                },
                "status": 0
            }
        ]
    },
    "description": "ok"
}
```
## Добавление нового мероприятия

Метод используется для добавления нового мероприятия, необходима авторизация пользователя.

### URL

```
POST /api/events/item
```

### Параметры JSON

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **name** | да | string | |
| **type** | да | integer | |
| **short_description** | да | string | |
| **description** | да | string | |
| **start_event** | да | date | формат даты: YYYY-MM-DDThh:mm |
| **end_event** | да | date | формат даты: YYYY-MM-DDThh:mm |
| **place_event** | да | integer | место проведения мероприятия, см инфо об аудиториях |
### Описание ответа

При успешной работе возвращает сокращенную информацию о мероприятии (см инфо мероприятия).


## Получение инфомарции об аудитории 

Метод используется для получения свободных аудиториях, не требует ауторизации пользователя.

## URL

```
GET /api/coworkings/list
```

### Параметры фильтра

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **start** | да | string | формат даты: YYYY-MM-DDThh:mm |
| **stop** | да | string | формат даты: YYYY-MM-DDThh:mm |
________

### Описание ответа

| Имя поля | Тип | Примичание |
|:-:|:-:|:-|
| **id**    | **integer**     | |
|**name** | **integer** |  |
| **corpus** | **json** | |
| **capacity** | **integer** |  |

### Пример ответа
``` json
{
    "result": [
        {
            "id": 1,
            "name": "101",
            "corpus": {
                "id": 1,
                "name": "1"
            },
            "capacity": 1
        }
    ],
    "description": "ok"
}
```

## Присоеденение к мероприятию

Метод используется для добавление нового пользователя на мероприятие, требует ауторизации пользователя.

## URL

```
POST /api/events/item/sub
```

### Параметры

| Имя параметра | Обязательный | Тип | Примичание |
|:-:|:-:|:-:|:-|
| **event_id** | да | integer | |

________

### Описание ответа

При успешном ответе выведет информацию о добавленом участнике
